<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mis Recomendaciones en BerlÃ­n â€” Juan Berliner</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,600;0,700;1,600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <style>
    :root {
      --bg: #001219;
      --surface: #012A36;
      --surface2: #013747;
      --border: #003D52;
      --gold: #EE9B00;
      --gold-glow: rgba(238,155,0,.12);
      --text: #E9D8A6;
      --muted: #7FB5BF;
      --dim: #4a7a85;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; overflow: hidden; }
    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      flex-direction: column;
    }

    /* â”€â”€ NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    nav {
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      height: 54px;
      padding: 0 20px;
      display: flex;
      align-items: center;
      gap: 14px;
      flex-shrink: 0;
      z-index: 500;
    }
    .nav-back {
      display: flex; align-items: center; gap: 6px;
      color: var(--muted); text-decoration: none; font-size: 13px;
      transition: color .2s;
    }
    .nav-back:hover { color: var(--gold); }
    .nav-sep { width: 1px; height: 20px; background: var(--border); flex-shrink: 0; }
    .nav-brand { font-family: 'Playfair Display', serif; font-size: 16px; font-weight: 700; color: var(--gold); text-decoration: none; }
    .nav-tag { font-size: 11px; color: var(--muted); font-weight: 500; }
    .nav-flex { flex: 1; }
    .lang-toggle { display: flex; border-radius: 6px; overflow: hidden; border: 1px solid var(--border); }
    .lang-btn {
      padding: 5px 11px; font-size: 11px; font-weight: 600;
      border: none; background: transparent; color: var(--muted);
      cursor: pointer; transition: all .2s; font-family: inherit;
    }
    .lang-btn.active { background: var(--gold); color: #001219; }

    /* â”€â”€ FILTER BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #filter-bar {
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      padding: 0 16px;
      height: 46px;
      display: flex; align-items: center; gap: 5px;
      flex-shrink: 0; overflow-x: auto;
      -ms-overflow-style: none; scrollbar-width: none;
    }
    #filter-bar::-webkit-scrollbar { display: none; }
    .chip {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 5px 13px; border-radius: 20px;
      border: 1px solid rgba(255,255,255,.07);
      background: rgba(255,255,255,.04);
      color: var(--muted); font-size: 10.5px; font-weight: 600;
      letter-spacing: .05em; text-transform: uppercase;
      cursor: pointer; white-space: nowrap; flex-shrink: 0;
      transition: all .18s; user-select: none; font-family: inherit;
    }
    .chip-dot { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; opacity: .75; }
    .chip .cnt {
      background: rgba(255,255,255,.08); border-radius: 4px;
      padding: 1px 5px; font-size: 9.5px; font-weight: 700; opacity: .65; letter-spacing: 0;
    }
    .chip.active {
      background: color-mix(in srgb, var(--chip-color, #C8A84B) 14%, transparent);
      border-color: color-mix(in srgb, var(--chip-color, #C8A84B) 40%, transparent);
      color: var(--chip-color, #C8A84B);
    }
    .chip.active .cnt { opacity: .75; }
    .chip:hover:not(.active) {
      background: rgba(255,255,255,.07);
      border-color: rgba(255,255,255,.14);
      color: var(--text);
    }
    #n-count { margin-left: auto; flex-shrink: 0; font-size: 11px; color: var(--dim); font-weight: 500; padding-left: 8px; }

    /* â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #main { flex: 1; display: flex; overflow: hidden; position: relative; }
    #map { flex: 1; transition: all .3s; }

    /* â”€â”€ PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #panel {
      width: 0; background: var(--surface);
      border-left: none;
      display: flex; flex-direction: column; flex-shrink: 0;
      overflow: hidden; position: relative;
      transition: width .35s cubic-bezier(.4,0,.2,1), border-color .35s;
    }
    #panel.open {
      width: 360px;
      border-left: 1px solid var(--border);
    }

    /* Photos */
    #panel-photos {
      position: relative; height: 200px; flex-shrink: 0;
      background: var(--surface2); overflow: hidden;
    }
    #panel-photos.empty {
      display: flex; align-items: center; justify-content: center;
      font-size: 48px;
    }
    .ph-img {
      position: absolute; inset: 0; width: 100%; height: 100%;
      object-fit: cover; opacity: 0; transition: opacity .55s;
    }
    .ph-img.on { opacity: 1; }
    .ph-nav-btn {
      position: absolute; top: 50%; transform: translateY(-50%);
      width: 32px; height: 32px; background: rgba(0,0,0,.55);
      border: none; border-radius: 50%; color: #fff; font-size: 14px;
      cursor: pointer; display: flex; align-items: center; justify-content: center;
      z-index: 2; transition: background .2s; font-family: inherit;
    }
    .ph-nav-btn:hover { background: rgba(0,0,0,.85); }
    .ph-prev { left: 9px; }
    .ph-next { right: 9px; }
    .ph-dots { position: absolute; bottom: 9px; left: 50%; transform: translateX(-50%); display: flex; gap: 5px; z-index: 2; }
    .ph-dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(255,255,255,.3); cursor: pointer; transition: background .2s; }
    .ph-dot.on { background: #fff; }

    /* Close */
    #panel-close {
      position: absolute; top: 10px; right: 10px;
      width: 30px; height: 30px; background: rgba(0,0,0,.65);
      border: none; border-radius: 50%; color: #fff; font-size: 14px;
      cursor: pointer; display: flex; align-items: center; justify-content: center;
      z-index: 20; transition: background .2s; font-family: inherit;
    }
    #panel-close:hover { background: rgba(0,0,0,.9); }

    /* Body */
    #panel-body {
      padding: 16px 20px 32px; overflow-y: auto; flex: 1;
      scrollbar-width: thin; scrollbar-color: var(--border) transparent;
    }
    #panel-body::-webkit-scrollbar { width: 4px; }
    #panel-body::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

    .p-badge {
      display: inline-flex; align-items: center; gap: 5px;
      padding: 3px 10px; border-radius: 20px;
      font-size: 10px; font-weight: 700; text-transform: uppercase;
      letter-spacing: .09em; margin-bottom: 11px;
    }
    .p-name {
      font-family: 'Playfair Display', serif;
      font-size: 22px; font-weight: 700; line-height: 1.2; margin-bottom: 5px;
    }
    .p-addr { font-size: 12px; color: var(--muted); margin-bottom: 13px; line-height: 1.5; }
    .p-divider { height: 1px; background: var(--border); margin: 13px 0; }
    .p-desc { font-size: 13px; line-height: 1.8; color: #ccc; margin-bottom: 14px; }
    .p-row { display: flex; gap: 10px; margin-bottom: 9px; font-size: 13px; align-items: flex-start; }
    .p-icon { color: var(--gold); flex-shrink: 0; width: 16px; text-align: center; margin-top: 2px; font-size: 12px; }
    .p-val { color: var(--text); line-height: 1.5; }
    .p-val a { color: var(--gold); text-decoration: none; }
    .p-val a:hover { text-decoration: underline; }
    .p-gmaps {
      display: flex; align-items: center; justify-content: center; gap: 8px;
      margin-top: 22px; padding: 11px;
      text-align: center; border: 1px solid var(--gold);
      border-radius: 6px; color: var(--gold); text-decoration: none;
      font-size: 13px; font-weight: 600; transition: all .2s;
    }
    .p-gmaps:hover { background: var(--gold); color: #000; }
    .p-gmaps svg { transition: transform .2s; }
    .p-gmaps:hover svg { transform: translateX(3px); }

    /* â”€â”€ LIST PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #list-panel {
      width: 0; background: var(--surface);
      border-right: none;
      display: flex; flex-direction: column; flex-shrink: 0;
      overflow: hidden; position: relative;
      transition: width .35s cubic-bezier(.4,0,.2,1);
    }
    #list-panel.open { width: 280px; border-right: 1px solid var(--border); }

    #list-header {
      padding: 12px 15px 11px; border-bottom: 1px solid var(--border);
      flex-shrink: 0; display: flex; align-items: center; gap: 7px;
    }
    #list-dot { width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0; }
    #list-title {
      font-size: 11px; font-weight: 700; letter-spacing: .07em;
      text-transform: uppercase;
    }
    #list-cnt { margin-left: auto; font-size: 11px; color: var(--dim); font-weight: 500; }

    #list-body {
      overflow-y: auto; flex: 1;
      scrollbar-width: thin; scrollbar-color: var(--border) transparent;
    }
    #list-body::-webkit-scrollbar { width: 4px; }
    #list-body::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

    .list-item {
      display: flex; align-items: center; gap: 11px;
      padding: 11px 15px; border-bottom: 1px solid rgba(255,255,255,.04);
      cursor: pointer; transition: background .14s;
    }
    .list-item:hover, .list-item.sel { background: var(--surface2); }
    .li-photo {
      width: 50px; height: 50px; border-radius: 6px;
      object-fit: cover; flex-shrink: 0; background: var(--surface2);
    }
    .li-body { flex: 1; min-width: 0; }
    .li-name {
      font-size: 13px; font-weight: 600; color: var(--text);
      margin-bottom: 3px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
    }
    .li-desc {
      font-size: 11.5px; color: var(--muted); line-height: 1.45;
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
    }
    .li-chev { color: var(--dim); flex-shrink: 0; }

    /* â”€â”€ LEAFLET OVERRIDES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .leaflet-control-attribution { display: none !important; }
    .leaflet-control-zoom a {
      background: var(--surface) !important;
      border-color: var(--border) !important;
      color: var(--muted) !important;
    }
    .leaflet-control-zoom a:hover { color: var(--gold) !important; background: var(--surface2) !important; }
    .m-wrap { cursor: pointer; transition: transform .15s; }
    .m-wrap:hover { transform: scale(1.18) translateY(-3px) !important; }
    .m-wrap.sel { transform: scale(1.28) translateY(-4px) !important; }

    /* â”€â”€ MOBILE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 768px) {
      nav { padding: 0 14px; gap: 10px; }
      .nav-tag { display: none; }
      #list-panel {
        position: absolute; bottom: 0; left: 0; right: 0;
        width: 100% !important; height: 0;
        border: none; border-radius: 16px 16px 0 0;
        z-index: 1000;
        background: var(--surface);
        transition: height .35s cubic-bezier(.4,0,.2,1);
      }
      #list-panel.open {
        height: 52vh;
        border-top: 1px solid var(--border);
      }
      #list-header { padding: 14px 18px 12px; }
      #panel {
        position: absolute; bottom: 0; left: 0; right: 0;
        width: 100% !important; height: 0;
        border: none;
        border-radius: 16px 16px 0 0;
        z-index: 1001;
        transition: height .35s cubic-bezier(.4,0,.2,1);
      }
      #panel.open {
        height: 60vh;
        border-top: 1px solid var(--border);
      }
      #panel-photos { height: 200px; }
      .p-name { font-size: 19px; }
    }
  </style>
</head>
<body>

<nav>
  <a href="index.html" class="nav-back">
    <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><polyline points="15 18 9 12 15 6"/></svg>
    <span class="l-es">Inicio</span><span class="l-en" style="display:none">Home</span>
  </a>
  <div class="nav-sep"></div>
  <a href="index.html" class="nav-brand">Juan Berliner</a>
  <span class="nav-tag l-es">Â· Mis recomendaciones</span>
  <span class="nav-tag l-en" style="display:none">Â· My recommendations</span>
  <div class="nav-flex"></div>
  <div class="lang-toggle">
    <button class="lang-btn active" id="btn-es" onclick="setLang('es')">ES</button>
    <button class="lang-btn" id="btn-en" onclick="setLang('en')">EN</button>
  </div>
</nav>

<div id="filter-bar"></div>

<div id="main">
  <div id="list-panel">
    <div id="list-header">
      <span id="list-dot"></span>
      <span id="list-title"></span>
      <span id="list-cnt"></span>
    </div>
    <div id="list-body"></div>
  </div>
  <div id="map"></div>
  <div id="panel">
    <div id="panel-photos"></div>
    <button id="panel-close" title="Cerrar">âœ•</button>
    <div id="panel-body">
      <div id="p-badge" class="p-badge"></div>
      <div id="p-name" class="p-name"></div>
      <div id="p-addr" class="p-addr"></div>
      <div class="p-divider"></div>
      <div id="p-desc" class="p-desc"></div>
      <div id="p-info"></div>
      <a id="p-gmaps" class="p-gmaps" target="_blank" rel="noopener">
        <span class="l-es">Ver en Google Maps</span>
        <span class="l-en" style="display:none">Open in Google Maps</span>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
      </a>
    </div>
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// â”€â”€ LANG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let lang = 'es';
let currentCategory = null;
function setLang(l) {
  lang = l;
  document.querySelectorAll('.l-es').forEach(e => e.style.display = l==='es'?'':'none');
  document.querySelectorAll('.l-en').forEach(e => e.style.display = l==='en'?'':'none');
  document.getElementById('btn-es').classList.toggle('active', l==='es');
  document.getElementById('btn-en').classList.toggle('active', l==='en');
  if (selectedMarker) {
    const p = selectedMarker._place;
    const cat = CAT[p.category];
    document.getElementById('p-desc').textContent = l === 'es' ? (DESC_ES[p.name] || p.desc) : p.desc;
    document.getElementById('p-badge').textContent = cat.emoji + ' ' + (l === 'es' ? cat.label_es : cat.label_en);
    if (p.hours) document.getElementById('p-hours').textContent = p.hours;
  }
  // Refresh place count label
  const nc = document.getElementById('n-count');
  if (nc) {
    const c = parseInt(nc.dataset.count || '0');
    nc.textContent = l === 'es' ? c + ' lugar' + (c!==1?'es':'') : c + ' place' + (c!==1?'s':'');
  }
  // Refresh list panel if open
  if (currentCategory) {
    const cat = CAT[currentCategory];
    const titleEl = document.getElementById('list-title');
    titleEl.textContent = l === 'es' ? cat.label_es : cat.label_en;
    const items = document.querySelectorAll('.list-item');
    const cnt = items.length;
    document.getElementById('list-cnt').textContent =
      l === 'es' ? cnt + ' lugar' + (cnt !== 1 ? 'es' : '') : cnt + ' place' + (cnt !== 1 ? 's' : '');
    items.forEach(item => {
      const p = item._place;
      if (p) item.querySelector('.li-desc').textContent =
        l === 'es' ? (DESC_ES[p.name] || p.desc) : p.desc;
    });
  }
}

// â”€â”€ CATEGORIES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const CAT = {
  "Food":                { color:"#0288D1", emoji:"ğŸ½ï¸", bg:"rgba(2,136,209,.13)",   label_es:"Comida",          label_en:"Food"             },
  "Bars":                { color:"#9C27B0", emoji:"ğŸº", bg:"rgba(156,39,176,.13)",  label_es:"Bares",           label_en:"Bars"             },
  "Museums":             { color:"#D4A800", emoji:"ğŸ›ï¸", bg:"rgba(212,168,0,.13)",   label_es:"Museos",          label_en:"Museums"          },
  "Green Areas & Lakes": { color:"#2E7D32", emoji:"ğŸŒ¿", bg:"rgba(46,125,50,.13)",   label_es:"Parques y Lagos", label_en:"Parks & Lakes"    },
  "Clubs":               { color:"#546E7A", emoji:"ğŸ§", bg:"rgba(84,110,122,.13)",  label_es:"Clubes",          label_en:"Clubs"            },
  "Cafes/Brunch":        { color:"#C2185B", emoji:"â˜•", bg:"rgba(194,24,91,.13)",   label_es:"CafÃ©s",           label_en:"CafÃ©s"            },
  "Feeling Fancy":       { color:"#757575", emoji:"â­", bg:"rgba(117,117,117,.13)", label_es:"Para darse un gusto", label_en:"Feeling Fancy"},
  "Squares & Locations": { color:"#FF5252", emoji:"ğŸ“", bg:"rgba(255,82,82,.13)",   label_es:"Plazas",          label_en:"Squares"          },
};

// â”€â”€ SPANISH DESCRIPTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DESC_ES = {
  // FOOD
  "Markthalle Neun": "Â¡Un mercado gastronÃ³mico con todo lo que puedas imaginar! Si no sabÃ©s adÃ³nde ir, Â¡este es el lugar!",
  "Kebap with Attitude": "Una versiÃ³n moderna del kebab berlinÃ©s con Ã©nfasis en la calidad y los ingredientes locales. No te pierdas los baÃ±os temÃ¡ticos.",
  "KnÃ¶delwirtschaft NORD": "AlbÃ³ndigas alemanas. Simples, contundentes y deliciosas.",
  "Zur letzten Instanz": "No podÃ©s ponerte mÃ¡s 'alemÃ¡n' que esto. Definitivamente vale la pena para tu dosis de comida alemana.",
  "Feel good food by Omar": "El mejor shawarma y falafel de la ciudad. Todo es casero y Omar es un personaje.",
  "Kitten Deli": "Probablemente uno de los lugares mÃ¡s cool de BerlÃ­n. Tienen uno de los mejores hummus que probÃ© en mi vida. En verano se siente como el corazÃ³n de la ciudad con mesas por los adoquines. Â¡El sabbich es definitivamente uno de sus platos mÃ¡s populares!",
  "Curry 61": "Â¡Uno de mis lugares favoritos para comer currywurst!",
  "Klinke": "Klinke toma los platos clÃ¡sicos alemanes y los eleva para que no estÃ©s comiendo solo cerdo y papas. Es bÃ¡sicamente un bar de tapas alemÃ¡n.",
  "Best GemÃ¼se Kebap": "Estoy convencido de que estos chicos tienen el mejor kebab de BerlÃ­n. Verduras asadas, 3 salsas, queso de cabra, ensalada fresca con aderezo, pollo de origen local â€” Â¡todo por 4,50â‚¬!",
  "Blechbilderbar": "Â¡El bar mÃ¡s antiguo de esta calle! Famoso por su Flammkuchen, un plato tradicional alemÃ¡n/francÃ©s. La seÃ±ora que lo dirige parece 'Berliner Schnauze' a primera vista, pero es increÃ­blemente amable y divertida.",
  "W Pizza": "Mi pizza favorita en BerlÃ­n. PedÃ­ algo simple: su salsa de tomate es lo que las hace tan especiales.",
  "Altes Europa": "Â¡Si buscÃ¡s comida alemana, este es definitivamente uno de los mejores lugares para encontrarla en BerlÃ­n!",
  "Ketels WurstspezialitÃ¤ten": "Este es mi lugar favorito para comer una Currywurst.",
  "Azzam Restaurant": "Porciones enormes de comida libanesa. Uno de los nombres famosos en BerlÃ­n entre los que saben.",
  "Burgermeister Schlesisches Tor": "El local de hamburguesas mÃ¡s famoso de BerlÃ­n, Â¡en un baÃ±o pÃºblico reconvertido!",
  "CRAZY BASTARD KITCHEN": "Â¡Una empresa de salsas picantes! Cambian su menÃº semanalmente adaptando la comida a sus salsas.",
  "Gazzo": "Un lugar de pizza increÃ­blemente popular.",
  "Sahara Imbiss": "Sus wraps con salsa de manÃ­ son increÃ­blemente baratos y deliciosos. Hay Saharas por todos lados, y no es de extraÃ±ar.",
  "Teras": "El local de kebab favorito de Angela Merkel.",
  "Mittendrin Restaurant & CafÃ©": "Restaurante alemÃ¡n para almuerzo y cena.",
  "SammyS Berliner Donuts": "Un gran lugar para conseguir los clÃ¡sicos 'Berliners'.",
  "1990 Vegan Living": "Uno de los lugares mÃ¡s populares de BerlÃ­n. No soy vegano, Â¡pero sigo volviendo! Un sueÃ±o para comida vietnamita fresca y sabrosa.",
  "Saveur de BÃ¡nh MÃ¬": "SÃ¡ndwiches vietnamitas simples, baratos y deliciosos, con un tamaÃ±o generoso.",
  "Scheers Schnitzel": "Un clÃ¡sico berlinÃ©s para el schnitzel, servido desde un pequeÃ±o puesto a orillas del Spree. RÃ¡pido, sin pretensiones y sorprendentemente bueno.",
  "RÃ¼yam GemÃ¼se Kebab (Prenzlauer Berg)": "La misma fÃ³rmula legendaria de kebab de verduras que el original de NeukÃ¶lln â€” verduras asadas, mÃºltiples salsas, queso de cabra, todo por pocos euros. Vale la pena visitar cualquier sucursal.",
  "RÃ¼yam GemÃ¼se Kebab (SchÃ¶neberg)": "La misma fÃ³rmula legendaria de kebab de verduras que el original de NeukÃ¶lln â€” verduras asadas, mÃºltiples salsas, queso de cabra, todo por pocos euros. Vale la pena visitar cualquier sucursal.",
  // BARS
  "TiER": "Â¡CÃ³cteles de primera! LlegÃ¡ temprano si querÃ©s conseguir mesa.",
  "Ã„": "Para mÃ­, este es el bar tÃ­picamente berlinÃ©s. Oscuro, con humo y cerveza barata â€” increÃ­blemente popular entre los kreuzkÃ¶llners.",
  "Hops & Barley": "Â¡Si querÃ©s conocer la escena de la cerveza artesanal en BerlÃ­n, este es el lugar!",
  "Dschungel": "Â¡DecoraciÃ³n tipo 'jungla' increÃ­ble, pero es un bar de fumadores, tenelo en cuenta!",
  "EschenbrÃ¤u": "Â¡Una cervecerÃ­a berlinesa con excelente calidad y precios muy accesibles! BajÃ¡ las escaleras al subsuelo. TambiÃ©n sirven Flammkuchen al verdadero estilo alemÃ¡n.",
  "Prater Beer Garden": "El jardÃ­n de cerveza mÃ¡s antiguo de la ciudad, Â¡y el punto de encuentro habitual para nosotros los guÃ­as! Definitivamente una gran parada en un dÃ­a de verano.",
  "My Bar ICI": "El opuesto a un bar berlinÃ©s â€” se siente como entrar a ParÃ­s. Vinos tranquilos, jazz suave, y el dueÃ±o mÃ¡s parisino que vas a encontrar en BerlÃ­n.",
  "Lamm": "Uno de mis bares de cÃ³cteles favoritos en el norte. En invierno son especialmente populares por su GlÃ¼hwein especial.",
  "Schneeeule â€“ Berliner Bierkultur": "Ulrike es la experta mundial en Berliner Weisse, una cerveza Ã¡cida tradicional que NapoleÃ³n llamÃ³ 'el champagne del norte'. FanÃ¡ticos de la cerveza de todo el mundo vienen a probar lo mejor de lo mejor.",
  "CafÃ© Luzia": "Â¿QuerÃ©s el bar clÃ¡sico de Kreuzberg? Este es el lugar.",
  "Ritchie CafÃ© & Bar": "Si Cafe Luzia estÃ¡ muy lleno, este estÃ¡ justo enfrente y es prÃ¡cticamente el mismo bar.",
  "Blauer Affe": "Uno de los bares locales mÃ¡s queridos de NeukÃ¶lln. Sin pretensiones, barato y lleno de habituales. Un gran lugar para instalarse por la noche.",
  "CafÃ© Cinema": "Un bar relajado en el corazÃ³n de Mitte con una vibra de cine retro. Buenos cÃ³cteles, buena compaÃ±Ã­a y una noche siempre divertida.",
  "MUTED HORN": "Un apasionado bar de cerveza artesanal en KreuzkÃ¶llln con una selecciÃ³n rotativa de cervezas locales e internacionales. Imprescindible para los amantes de la cerveza.",
  "Fitcher's Vogel": "Un bar maravillosamente oscuro y eclÃ©ctico en Friedrichshain, con el nombre de un cuento de los hermanos Grimm. Gran parada antes del club o destino en sÃ­ mismo.",
  "James June Biergarten": "Un Biergarten a orillas del Spree, uno de los lugares mÃ¡s relajados para disfrutar de una tarde soleada en BerlÃ­n con una cerveza frÃ­a.",
  "BRLO Brwhouse": "CervecerÃ­a artesanal y restaurante en un espacio industrial recuperado en el Parque Gleisdreieck. Excelentes cervezas, buena comida y una gran terraza en verano.",
  "Klunkerkranich": "Bar en la terraza del centro comercial NeukÃ¶lln Arcaden.",
  // MUSEUMS
  "Stasi Museum": "Ubicado en el cuartel general original de la policÃ­a secreta Stasi. Documenta todas las formas en que el gobierno espiaba a los ciudadanos de la Alemania Oriental. El edificio fue ocupado por manifestantes tras la reunificaciÃ³n para proteger los documentos. El lugar incluso tiene un piso conservado exactamente como era en los aÃ±os 80.",
  "TopografÃ­a del Terror": "Definitivamente una visita imperdible en BerlÃ­n. En el antiguo sitio de las SS y la Gestapo, este lugar habla sobre el sistema de terror del Tercer Reich. Entrada gratuita.",
  "Kulturbrauerei â€“ ExposiciÃ³n RDA": "Mientras la mayorÃ­a va al Museo DDR, la Kulturbrauerei es un lugar mÃ¡s matizado e interesante para explorar la vida en la RDA, ubicado en la antigua cervecerÃ­a Schultheiss.",
  "Memorial y Museo Sachsenhausen": "El campo de concentraciÃ³n a las afueras de BerlÃ­n, en Oranienburg. Un poco lejos, pero podÃ©s organizar un tour. Definitivamente un evento de dÃ­a completo.",
  "Memorial del Muro de BerlÃ­n": "La secciÃ³n conservada mÃ¡s significativa del Muro de BerlÃ­n, con una exposiciÃ³n al aire libre a lo largo de la Bernauer StraÃŸe. Entrada gratuita.",
  "Palacio Ephraim": "La exposiciÃ³n 'Berlin Zeit' es la Ãºnica exposiciÃ³n abierta que repasa un poco de toda la historia alemana.",
  "PrisiÃ³n de la Stasi (HohenschÃ¶nhausen)": "Diferente al Museo de la Stasi pero igual de cargado de historia. Antigua prisiÃ³n secreta donde se interrogaba a los disidentes. Solo con visitas guiadas.",
  "Deutschlandmuseum": "Una historia interactiva de Alemania. No es el mÃ¡s extenso, pero definitivamente es divertido si buscÃ¡s algo mÃ¡s accesible.",
  "Berlin Story Bunker": "Si querÃ©s un museo de la Segunda Guerra Mundial, esta es tu mejor apuesta. Historia completa de la guerra y los nazis, con un bÃºnker de Hitler reconstruido dentro de un bÃºnker real.",
  "Ethnologisches Museum": "Un museo muy interesante sobre la historia colonial alemana. Si te interesa cÃ³mo Europa deberÃ­a afrontar su pasado colonial, el museo es en su mayorÃ­a un buen ejemplo.",
  "MÃ¤rkisches Museum": "Mientras el Museo HistÃ³rico AlemÃ¡n estÃ¡ cerrado, esta es probablemente una de tus mejores opciones para aprender sobre la historia alemana. Kaisers, el Muro, los nazis â€” este lugar lo cubre todo.",
  "Museo del Espionaje": "Un lugar divertido para aprender sobre la 'ciudad de espÃ­as' del BerlÃ­n de la Guerra FrÃ­a. Muy interactivo, puede ser una buena salida para familias tambiÃ©n.",
  "Urban Nation Street Art Museum": "Â¡Es un museo de arte urbano! Â¡EstÃ¡ bastante bien!",
  "Mundo SubterrÃ¡neo de BerlÃ­n": "Tours muy interesantes de los sitios subterrÃ¡neos de la ciudad â€” bÃºnkeres, tÃºneles e infraestructura de la Guerra FrÃ­a.",
  "Museo de Videojuegos": "No es muy berlinÃ©s, pero definitivamente es divertido si querÃ©s jugar algunos videojuegos clÃ¡sicos.",
  // GREEN AREAS & LAKES
  "Tempelhofer Feld": "Este es tu imprescindible cuando hace sol. SÃ© un verdadero berlinÃ©s y dirigite al antiguo aerÃ³dromo nazi reconvertido con unas cervezas bajo el sol. MirÃ¡ los patinadores, volÃ¡ un barrilete o simplemente tomÃ¡ sol. LlevÃ¡ todo lo que necesitÃ¡s â€” es literalmente un aerÃ³dromo sin tiendas adentro.",
  "Teufelsberg": "Subir esta montaÃ±a artificial hecha de escombros de la Segunda Guerra Mundial para llegar a una antigua estaciÃ³n de espionaje estadounidense abandonada es probablemente una de las experiencias mÃ¡s clÃ¡sicamente 'berlinesas' que podÃ©s tener. Los cuidadores cobran alrededor de 10â‚¬.",
  "Maybachufer": "AquÃ­ es donde voy en un dÃ­a soleado, igual que toda KreuzkÃ¶llern. El animado canal se siente como el corazÃ³n de la ciudad cuando el tiempo acompaÃ±a.",
  "Schlachtensee": "Un hermoso lago en el suroeste de la ciudad. Perfecto para nadar en verano.",
  "Krumme Lanke": "Otro lago estupendo para nadar en el suroeste de BerlÃ­n.",
  "PlÃ¶tzensee": "Uno de los lagos mÃ¡s cÃ©ntricos de la ciudad. Tiene una historia oscura, pero hoy la mayorÃ­a de la gente va a disfrutar del sol. Si te sentÃ­s aventurero, podÃ©s probar el lado nudista FKK de la playa.",
  "Wannsee": "Probablemente el lago mÃ¡s famoso de BerlÃ­n. La Conferencia de Wannsee (1942) se celebrÃ³ aquÃ­ â€” donde los nazis planificaron la SoluciÃ³n Final.",
  "Mauerpark": "Ves el Muro de BerlÃ­n, sumate al karaoke al aire libre o andÃ¡ al mercado del domingo. Hagas lo que hagas, el Mauerpark es un pilar de la vida en BerlÃ­n.",
  "Memorial SoviÃ©tico de Treptow": "Probablemente uno de los espacios mÃ¡s increÃ­bles de BerlÃ­n. No podÃ©s ponerte mÃ¡s soviÃ©tico que esto â€” un monumento colosal a los soldados del EjÃ©rcito Rojo caÃ­dos en la Batalla de BerlÃ­n.",
  "YAAM": "Young African Art Market â€” un centro cultural a orillas del Spree con playa, bar y mÃºsica en vivo.",
  "Holzmarkt â€“ Strandbar": "Un pueblo cultural a orillas del Spree con bares, restaurantes y una playa.",
  // CLUBS
  "Tresor": "Si querÃ©s tu club tÃ­pico 'berlinÃ©s', este es el lugar. La mÃºsica siempre es fantÃ¡stica, el espacio es increÃ­ble, y realmente es el club de BerlÃ­n.",
  "Sisyphos": "Un club fantÃ¡stico amado por todos. Parte al aire libre, parte adentro, sus salas le dan cabida a casi todos. Algunos dicen que es un Berghain invertido. Â¿RecordÃ¡s el tema 'camp' del Met Gala? Eso es Sisy â€” lentejuelas, colores, fantÃ¡stico.",
  "SÃ¼ss War Gestern": "Mitad bar, mitad club â€” un gran lugar para una noche en Friedrichshain.",
  "Salon â€“ Zur wilden Renate": "Uno de los clubes de tamaÃ±o medio mÃ¡s queridos de BerlÃ­n, distribuido en varias salas y un patio en una casa reconvertida de Friedrichshain.",
  "Kater Blau": "Un club a orillas del Spree con un relajado espacio exterior y una pista de baile interior. Un buen punto de entrada a la escena clubera de BerlÃ­n.",
  "://about blank": "Un serio club de techno y mÃºsica electrÃ³nica en Friedrichshain con una gran Ã¡rea al aire libre. Uno de los pilares de la escena berlinesa, conocido por su ambiente inclusivo.",
  "MS Hoppetosse": "Un club en un barco reconvertido amarrado en el Spree cerca de la East Side Gallery. Gran terraza exterior y enfoque en techno y house.",
  "RSO.BERLIN": "Un gran club industrial en SchÃ¶neweide, una de las incorporaciones mÃ¡s recientes de BerlÃ­n a la escena techno. Conocido por sesiones maratÃ³nicas y un pÃºblico fiel.",
  // CAFES/BRUNCH
  "19grams Alex": "Brunch y cafÃ© decente en una zona bastante gris.",
  "The Klub Kitchen": "Un lugar fÃ¡cil para almorzar en Mitte.",
  "Wilke": "Wilke tiene uno de los mejores brunches de la ciudad hasta las 15h de miÃ©rcoles a domingo. Los platos son estacionales y de origen local, y el personal es el mÃ¡s amable de BerlÃ­n. El cafÃ© es fantÃ¡stico, y Carolin, la dueÃ±a, hornea todos los pasteles ella misma cada noche.",
  "annelies": "Uno de mis lugares de brunch favoritos. Los pancakes son algo especial, pero llegÃ¡ temprano porque Annelies es definitivamente un punto muy concurrido.",
  "CafÃ© Engels": "Un clÃ¡sico cafÃ© de barrio en el corazÃ³n de NeukÃ¶lln. Nada revolucionario, pero buen cafÃ© y un gran lugar para leer, trabajar o ponerse al dÃ­a con un amigo.",
  "Shakespeare & Sons â€“ Fine Bagels": "Una encantadora combinaciÃ³n de librerÃ­a independiente y panaderÃ­a de bagels en Friedrichshain. Bagels de verdad, buen cafÃ© y grandes libros.",
  "Bricks & Mortar": "Una cafeterÃ­a de especialidad en Friedrichshain con una estÃ©tica limpia y minimalista y un enfoque serio en el cafÃ©. Una de las mejores tazas del este.",
  "Sorrel": "Un restaurante de barrio en NeukÃ¶lln con un menÃº corto y de temporada y un ambiente acogedor. Uno de esos lugares que simplemente se siente bien.",
  "Two Trick Pony": "Un cafÃ© y restaurante de brunch relajado en SchÃ¶neberg con una vibra tranquila y porciones generosas. Popular entre los locales los fines de semana.",
  "The Barn CafÃ©": "GanÃ³ el tÃ­tulo de mejor cafÃ© de Europa hace unos aÃ±os, pero tomÃ¡ la experiencia completa con un grano de sal. No es el lugar mÃ¡s cÃ¡lido.",
  // FEELING FANCY
  "Bar Normal": "IgnorÃ¡ las reseÃ±as. El nuevo chef estÃ¡ haciendo maravillas y su selecciÃ³n de vinos es increÃ­ble. No pierdo ninguna excusa para venir.",
  "No Bananas": "Nada exageradamente sofisticado, pero uno de los mejores lugares para comer en la ciudad si estÃ¡s dispuesto a gastar un poco mÃ¡s que en un kebab.",
  "Velvet": "GanÃ³ el tÃ­tulo de mejor bar de cÃ³cteles en Alemania hace unos aÃ±os, Â¡y entiendo por quÃ©!",
  "Hallmann und Klee": "Un restaurante de barrio refinado en NeukÃ¶lln con una propuesta de cocina europea de temporada sin pretensiones. Una gran elecciÃ³n para una cena especial.",
  "ORA": "Restaurante y bar de cÃ³cteles en una antigua farmacia.",
  "ClÃ¤rchens Ballroom": "Â¿Es un bar? Â¿Es un club? Â¿Es un restaurante? La verdad no sÃ©, pero fue el salÃ³n de baile central del BerlÃ­n de Weimar.",
  "Freundschaft Wine Bar": "Un bar de vinos tan sofisticado que parece estar en MÃºnich. Mis amigos y yo claramente no encajamos aquÃ­, pero eso no nos impide tomar algunos de los mejores vinos del mundo.",
  "Bellboy Bar Berlin": "Mitte no es el corazÃ³n palpitante de la vida nocturna berlinesa, pero este es uno de mis bares de cÃ³cteles preferidos en el barrio.",
  "Buck and Breck": "El 83er mejor bar de cÃ³cteles del mundo hace unos aÃ±os.",
  "theNOname â€“ Restaurant": "Estuve recomendando el NoName durante aÃ±os, Â¡y finalmente fui reivindicado cuando obtuvo una estrella Michelin! Un restaurante precioso justo al lado de la Nueva Sinagoga.",
  "Victoria Bar": "Un clÃ¡sico bar de cÃ³cteles en la gama alta. No el mejor de la ciudad, pero definitivamente una de las mejores paradas de la zona.",
  // SQUARES & LOCATIONS
  "Boxhagener Platz": "Una plaza central con mercado incluido. Si no sabÃ©s adÃ³nde ir por las noches, esta es la decisiÃ³n mÃ¡s fÃ¡cil.",
  "RAW-GelÃ¤nde": "Definitivamente vale la pena curiosear â€” bares, clubes, skate park y arte urbano en un antiguo taller de mantenimiento ferroviario.",
  "Hackescher Markt": "Un poco turÃ­stico para mi gusto, pero todavÃ­a hay algunas joyas escondidas por ahÃ­.",
};

// â”€â”€ HOURS (scraped) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const HOURS = {
  "Markthalle Neun": null,
  "Kebap with Attitude": null,
  "KnÃ¶delwirtschaft NORD": null,
  "Zur letzten Instanz": null,
  "Feel good food by Omar": null,
  "Scheers Schnitzel": null,
  "Kitten Deli": "Tuesday at 12:00 PM Monday 12:00 PM Tuesday 12:00 PM Wednesday Thursday 12:00 PM Friday 12:00 PM Saturday 10:00 AM Sunday 10:00 AM Loved by 11 members â€¦ Â·",
  "Curry 61": null,
  "Klinke": null,
  "Best GemÃ¼se Kebap": null,
  "Blechbilderbar": "Mo-Fr 15:00-24:00+, Sa, Su 10:00-24:00+",
  "W Pizza": "Tu-Fr 18:00-22:00 Â· Sa 13:00-22:00 Â· Su 13:00-21:00",
  "Altes Europa": null,
  "Ketels WurstspezialitÃ¤ten": null,
  "Azzam Restaurant": null,
  "Burgermeister Schlesisches Tor": null,
  "CRAZY BASTARD KITCHEN": null,
  "Gazzo": null,
  "Sahara Imbiss": null,
  "Teras": null,
  "Mittendrin Restaurant & CafÃ©": null,
  "SammyS Berliner Donuts": null,
  "1990 Vegan Living": null,
  "Saveur de BÃ¡nh MÃ¬": null,
  "RÃ¼yam GemÃ¼se Kebab (Prenzlauer Berg)": null,
  "RÃ¼yam GemÃ¼se Kebab (SchÃ¶neberg)": null,
  "TiER": null,
  "Blauer Affe": null,
  "Ã„": null,
  "Hops & Barley": "Mo-Th 17:00-01:00, Sa, Su 14:00+, Fr 16:00+",
  "Dschungel": null,
  "EschenbrÃ¤u": null,
  "Prater Beer Garden": null,
  "My Bar ICI": null,
  "Lamm": null,
  "Schneeeule â€“ Berliner Bierkultur": null,
  "CafÃ© Luzia": null,
  "Ritchie CafÃ© & Bar": null,
  "CafÃ© Cinema": null,
  "MUTED HORN": null,
  "Fitcher's Vogel": "Mo-Su 18:00+",
  "James June Biergarten": null,
  "Klunkerkranich": null,
  "BRLO Brwhouse": null,
  "Stasi Museum": null,
  "TopografÃ­a del Terror": null,
  "Kulturbrauerei â€“ ExposiciÃ³n RDA": null,
  "Memorial y Museo Sachsenhausen": null,
  "Memorial del Muro de BerlÃ­n": null,
  "Palacio Ephraim": null,
  "PrisiÃ³n de la Stasi (HohenschÃ¶nhausen)": null,
  "Deutschlandmuseum": "Mo-Su 10:00-20:00",
  "Berlin Story Bunker": null,
  "Ethnologisches Museum": null,
  "MÃ¤rkisches Museum": null,
  "Museo del Espionaje": null,
  "Urban Nation Street Art Museum": null,
  "Mundo SubterrÃ¡neo de BerlÃ­n": null,
  "Museo de Videojuegos": null,
  "Tempelhofer Feld": null,
  "Teufelsberg": null,
  "Maybachufer": null,
  "Schlachtensee": null,
  "Krumme Lanke": null,
  "PlÃ¶tzensee": null,
  "Wannsee": null,
  "Mauerpark": null,
  "Memorial SoviÃ©tico de Treptow": null,
  "YAAM": "We 16:00-02:00 Â· Th 16:00-04:00 Â· Fr 16:00-05:00 Â· Sa 13:00-05:00 Â· Su 13:00-01:00",
  "Holzmarkt â€“ Strandbar": null,
  "Tresor": null,
  "Sisyphos": null,
  "SÃ¼ss War Gestern": null,
  "Salon â€“ Zur wilden Renate": null,
  "Kater Blau": null,
  "://about blank": null,
  "MS Hoppetosse": null,
  "RSO.BERLIN": null,
  "19grams Alex": "Mo-Fr 09:00-17:00 Â· Sa-Su 09:00-18:00",
  "CafÃ© Engels": null,
  "The Klub Kitchen": null,
  "Wilke": null,
  "annelies": null,
  "Shakespeare & Sons â€“ Fine Bagels": null,
  "Bricks & Mortar": null,
  "Sorrel": null,
  "The Barn CafÃ©": null,
  "Two Trick Pony": null,
  "Bar Normal": null,
  "No Bananas": null,
  "Velvet": null,
  "Hallmann und Klee": null,
  "ORA": null,
  "ClÃ¤rchens Ballroom": null,
  "Freundschaft Wine Bar": null,
  "Bellboy Bar Berlin": null,
  "Buck and Breck": null,
  "theNOname â€“ Restaurant": null,
  "Victoria Bar": null,
  "Boxhagener Platz": null,
  "RAW-GelÃ¤nde": null,
  "Hackescher Markt": null
};

// â”€â”€ PHOTO URLS (scraped) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PHOTO_URLS = {
  "Markthalle Neun": "https://i0.wp.com/andershusa.com/wp-content/uploads/2019/01/markthalle-neun-kreuzberg-berlin-germany-food-hall-restaurants-review-food-foodie-eat-eating-dining-best-tips-recommendation-guide-travel-2018-13.jpg?ssl=1",
  "Kebap with Attitude": "https://berlin-ick-liebe-dir.de/wp-content/uploads/2020/01/Kebab-with-attitude-Theke-Neon.jpg",
  "KnÃ¶delwirtschaft NORD": "https://mitvergnuegen.com/wp-content/uploads/2022/06/knoedelwirtschaft-nord-tipp.png",
  "Zur letzten Instanz": "https://zurletzteninstanz.com/wp-content/uploads/2021/08/image00005-scaled.jpeg",
  "Feel good food by Omar": "https://img3.restaurantguru.com/cb69-Restaurant-Feel-good-food-by-Omar-design.jpg",
  "Scheers Schnitzel": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/18/cc/0a/f8/scheers-schnitzel.jpg?w=1100&h=-1&s=1",
  "Kitten Deli": "https://mitvergnuegen.com/wp-content/uploads/2020/06/kitten-deli-daliah-hoffmann-24-680x453.jpg",
  "Curry 61": "https://res.cloudinary.com/the-infatuation/image/upload/c_scale,w_1200,q_auto,f_auto/images/Curry61_Exterior_ZoeSpawton_Berlin_k3mfrq",
  "Klinke": "https://media-cdn.tripadvisor.com/media/photo-s/23/b2/b8/bc/outdoor.jpg",
  "Best GemÃ¼se Kebap": "https://production-data.worldofmouth.app/images/4adbc295-c841-4c69-9406-1aa2ca845457-1080x1080.jpg",
  "Blechbilderbar": "https://cdn4.site-media.eu/images/1903x1264%2C1600x1063%2B0%2B0/903637/_M4B0658.jpg",
  "W Pizza": "https://www.iheartberlin.de/wp-content/uploads/2018/06/W-Pizza-1410.jpg",
  "Altes Europa": "https://cdn.offen.net/img/review/2560_7adfbfa54017f64db71c429f97c41996f6a30075.jpg",
  "Ketels WurstspezialitÃ¤ten": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/10/02/59/3b/ketels-grill.jpg?w=1200&h=-1&s=1",
  "Azzam Restaurant": "https://media.halaltrip.com/restaurant/coverr_1506407584.jpg",
  "Burgermeister Schlesisches Tor": "https://burgermeister.com/wp-content/uploads/2021/05/Burgermeister-Schlesisches-Tor.jpg",
  "CRAZY BASTARD KITCHEN": "https://s3-media0.fl.yelpcdn.com/bphoto/Vk8uj5FR-5U0fQ04V9-FgQ/l.jpg",
  "Gazzo": "https://static.wixstatic.com/media/c3e429_a55f921320684a4cb3367f16913da6f2~mv2_d_6016_4016_s_4_2.jpg/v1/fill/w_980,h_654,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/c3e429_a55f921320684a4cb3367f16913da6f2~mv2_d_6016_4016_s_4_2.jpg",
  "Sahara Imbiss": "https://images.happycow.net/venues/1024/63/91/hcmp63915_911072.jpeg",
  "Teras": "https://joinhalal.com/wp-content/uploads/2024/09/teras-doener-berlin-3.jpg",
  "Mittendrin Restaurant & CafÃ©": "https://www.mittendrin-in-berlin.de/system/getthumb/images/__tn__ecics_6456_7434_600_9999.jpg",
  "SammyS Berliner Donuts": "https://endoedibles.com/wp-content/uploads/2022/07/PXL_20220703_105654595.jpg",
  "1990 Vegan Living": "https://www.restaurant-1990.de/wp-content/uploads/2018/12/1990-vegan-restaurant-berlin-startseite-galerie-03-750x750.jpg",
  "Saveur de BÃ¡nh MÃ¬": "https://www.cremeguides.com/wp-content/uploads/2023/04/saveur-de-banh-mi-i-foto-ole-zimmermann-2.1681312878.jpg",
  "RÃ¼yam GemÃ¼se Kebab (Prenzlauer Berg)": "https://joinhalal.com/wp-content/uploads/2024/11/joinhalal_Rueyam_Gemuese_Kebab_Berlin_Prenzlauerberg-1024x768.jpg",
  "RÃ¼yam GemÃ¼se Kebab (SchÃ¶neberg)": "https://media-cdn.tripadvisor.com/media/photo-m/1280/16/ab/7c/27/photo7jpg.jpg",
  "TiER": "https://www.electrive.com/media/2021/09/tier-mobility-2021-05-min.png",
  "Blauer Affe": "https://mappde.com/yer/blauer-affe-920432.jpg",
  "Ã„": "https://img.restaurantguru.com/cba7-A-Berlin-view-1.jpg",
  "Hops & Barley": "https://bier-traveller.com/wp-content/uploads/2020/10/Berlin-Hops-Barley-Bier-Traveller-13.jpg",
  "Dschungel": "http://www.dschungelberlin.de/uploads/9/6/0/3/96032180/d1_orig.jpg",
  "EschenbrÃ¤u": "https://eschenbraeu.de/wp-content/uploads/2019/04/gaststaette-bar-r1-1116x837.jpg",
  "Prater Beer Garden": "https://berlintraveltips.com/wp-content/uploads/2021/02/Berlin-beer-gardens-Prater.jpg",
  "My Bar ICI": "https://img.restaurantguru.com/ca4d-Pub-and-bar-My-Bar-ICI-bar-counter.jpg",
  "Lamm": "https://loff.it/wp-content/uploads/2019/10/loffit-lamm-un-nuevo-bar-en-berlin-en-el-que-catar-los-cocteles-mas-sugerentes-de-la-ciudad-07.jpg",
  "Schneeeule â€“ Berliner Bierkultur": "https://media-cdn.tripadvisor.com/media/photo-s/26/d8/18/81/schneeeule-salon-ofener.jpg",
  "CafÃ© Luzia": "https://www.fast-and-wide.com/images/stories/News/2018_q3/genelec-Luzia.jpg",
  "Ritchie CafÃ© & Bar": "https://img3.restaurantguru.com/w550/h367/r911-Ritchie-Cafe-and-Bar-interior-2025-08-4.jpg",
  "CafÃ© Cinema": "https://c8.alamy.com/comp/E9T2KX/the-cafe-cinema-in-hackescher-in-berlin-E9T2KX.jpg",
  "MUTED HORN": "https://www.hopfenhelden.de/wp-content/uploads/2017/03/muted-horn-berlin-aussen.jpg",
  "Fitcher's Vogel": "https://res.cloudinary.com/the-infatuation/image/upload/c_scale,w_1200,q_auto,f_auto/images/Fitcher_s_Vogel_Exterior_FlorianKroll_Berlin-4_f5vojz",
  "James June Biergarten": "https://www.top10berlin.de/wp-content/uploads/2024/01/sommergarten-james-june_biergaerten-top10berlin_foto_james-june_1400x750_3.jpg",
  "Klunkerkranich": "https://i.pinimg.com/originals/d6/c7/fd/d6c7fdb2aff0f718aa3257105ddc8635.jpg",
  "BRLO Brwhouse": "https://www.deutschlandgourmet.info/bilder/gross/51534-restaurant-brlo-brwhouse-berlin.jpg",
  "Stasi Museum": "https://assets.deutschlandfunk.de/FILE_99379e902d5c0546f2ffea74bfee030a/1920x1080.jpg?t=1597585820060",
  "TopografÃ­a del Terror": "https://withberlinlove.com/wp-content/uploads/2012/06/berlin-wall-monument-at-topographie-des-terrors.jpg",
  "Kulturbrauerei â€“ ExposiciÃ³n RDA": "https://l450v.alamy.com/450v/fbwrbr/berlin-germany-permanent-exhibition-everyday-life-in-the-gdr-at-museum-fbwrbr.jpg",
  "Memorial y Museo Sachsenhausen": "https://www.berlin.de/binaries/asset/image_assets/3574460/source/1649329367/1000x500/",
  "Memorial del Muro de BerlÃ­n": "https://www.nuberlin.com/wp-content/uploads/2017/02/berlin-wall-memorial.jpg",
  "Palacio Ephraim": "https://thumbs.dreamstime.com/z/ephraim-palace-berlin-germany-may-was-built-th-century-preserved-as-museum-situated-51775623.jpg?w=576",
  "PrisiÃ³n de la Stasi (HohenschÃ¶nhausen)": "https://www.stiftung-hsh.de/fileadmin/_processed_/8/0/csm_2022_Neubau_CR_DirkVogel_d680d7abd3.jpg",
  "Deutschlandmuseum": "https://kulturnews.de/wp-content/uploads/2024/02/deutschlandmuseum-1280x853.jpg",
  "Berlin Story Bunker": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/1c/36/6e/der-berlin-story-bunker.jpg?w=1200&h=1200&s=1",
  "Ethnologisches Museum": "https://citytripwith.us/media/ContentGenerator/en_US/etmus_(1).jpg",
  "MÃ¤rkisches Museum": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/14/27/84/1a/markisches-museum-vom.jpg?w=1200&h=1200&s=1",
  "Museo del Espionaje": "https://iconic-berlin.com/wp-content/uploads/2016/02/spymuseumberlin-front.jpg",
  "Urban Nation Street Art Museum": "https://www.out-the-box.fr/wp-content/uploads/2013/03/street-art-musÃ©e-urban-nation-2.jpg",
  "Mundo SubterrÃ¡neo de BerlÃ­n": "https://www.berliner-unterwelten.de/fileadmin/_processed_/5/e/csm_Broschuere_T1_ENG_2101bf1577.jpg",
  "Museo de Videojuegos": "https://urlaubspapa.de/wp-content/uploads/2020/06/computermuseum_berlin02.jpg",
  "Tempelhofer Feld": "https://louisas-place.de/wp-content/uploads/2020/11/tempelhofer_feld_-_nutzung_oderstrasse_c_manuel_frauendorf_1k1a9605_KLEIN.jpg",
  "Teufelsberg": "https://www.streetartaddict.nl/wp-content/uploads/2023/03/Teufelsberg-Berlin-07-rotated.jpeg",
  "Maybachufer": "https://i.pinimg.com/736x/5b/9b/fb/5b9bfbec19eb4954aca3bd8f080ccebd--berlin.jpg",
  "Schlachtensee": "https://www.pure-wanderlust.de/wp-content/uploads/2023/05/schlachtensee-1-1024x683.jpg",
  "Krumme Lanke": "https://image.geo.de/30136600/t/go/v4/w1440/r0/-/krumme-lanke-f-155388280-jpg--77617-.jpg",
  "PlÃ¶tzensee": "https://www.kuladig.de/api/Media/Vespa?token=BI2aXCqgCsa4lsWamUKQflbUYGYIPm0QsThGcUdivZq1sb1oFABzaBHt1uH3QyIU4YClT5S-O6GS2meHuwREma65g6d_0sUw56CDY0727hNatVX9H2V2VM_KQeSGU1YN9Zw5G1txr7CCAGQfp0DCGQ-Oi597hGU5UUJ1POXDFk4pAYiDVvtiyAlHZz64GnEazM-M3FDajWvjxb342hAOCV8bS7DwhAR3jlRdpJ0Hok7JeNOKF00dEmu2_BAVJkE-fyDRKqIbMgBUzR-tcdHe0Q((",
  "Wannsee": "https://img.oastatic.com/img2/76117480/2500x950r/boote-am-grossen-wannsee-in-berlin.jpg",
  "Mauerpark": "https://www.mauerpark.info/wp-content/uploads/2020/06/mauerpark-erweiterung_DJI_0612.jpg",
  "Memorial SoviÃ©tico de Treptow": "https://thumbs.dreamstime.com/z/aerial-view-soviet-war-memorial-great-red-army-soldier-treptower-park-to-honor-soldiers-who-liberated-berlin-312803767.jpg",
  "YAAM": "https://c8.alamy.com/comp/MXT5FK/yaam-club-at-river-spree-friedrichshain-berlin-germany-MXT5FK.jpg",
  "Holzmarkt â€“ Strandbar": "https://berlijn-blog.nl/wp-content/uploads/2016/06/20150805-DSCF1927-BerlijnBlog-strandbar-holzmarkt-berlijn-friedrichshain.jpg",
  "Tresor": "https://traveldudes.com/wp-content/uploads/2023/06/Entrance-to-the-Tresor-Club-in-Berlin-Germany-1286x1285.jpg",
  "Sisyphos": "https://technoedm.com/wp-content/uploads/2023/10/Sisyphos-Nightclub_TECHNOEDM.jpg",
  "SÃ¼ss War Gestern": "https://www.sveapietschmann.de/wordpress/wp-content/uploads/2020/06/14-svea-pietschmann-fotografin-fotografie-berlin-bars-friedrichshain-corona-lockdownsuess-war-gestern_2168.jpg",
  "Salon â€“ Zur wilden Renate": "https://vivreaberlin.com/wp-content/uploads/2015/07/3066_1d7e5feb456a.jpg",
  "Kater Blau": "https://technoedm.com/wp-content/uploads/2023/10/Kater-Blau_TECHNOEDM.webp",
  "://about blank": "https://www.berlin.de/binaries/asset/image_assets/9659242/ratio_2_1/1749200658/1000x500/",
  "MS Hoppetosse": "https://cdn.eventinc.de/provider_pictures/pictures/000/139/575/cropped/eventlocation-hoppetosse-berlin.jpg?1553319812",
  "RSO.BERLIN": "https://www.top10berlin.de/wp-content/uploads/2024/05/RSO.webp",
  "19grams Alex": "https://europeancoffeetrip.com/wp-content/uploads/city-guides/cafes/1422/19grams-alex-berlin-1.JPG",
  "CafÃ© Engels": "https://media-cdn.tripadvisor.com/media/photo-s/0a/dc/36/69/aussenansicht.jpg",
  "The Klub Kitchen": "https://www.cremeguides.com/wp-content/uploads/2021/06/klub-kitchen-west-berlin-2.1624534378.jpg",
  "Wilke": "https://tasteandtea.com/wp-content/uploads/2019/01/Wilke-Cafe-1440x1080.jpg",
  "annelies": "https://europeancoffeetrip.com/wp-content/uploads/city-guides/cafes/1396/annelies-berlin-social-media-2.jpg",
  "Shakespeare & Sons â€“ Fine Bagels": "https://images.happycow.net/venues/1024/17/99/hcmp179944_1708854.jpeg",
  "Bricks & Mortar": "https://images.happycow.net/venues/1024/23/32/hcmp233251_1108792.jpeg",
  "Sorrel": "https://images.squarespace-cdn.com/content/v1/6040a5c51a048874afdbe661/1624276281082-ROB3JYC3X5CHF3DGAT4S/IMG_5951.jpg?format=1500w",
  "The Barn CafÃ©": "https://media-cdn.tripadvisor.com/media/photo-p/14/9d/57/64/photo3jpg.jpg",
  "Two Trick Pony": "https://static.wixstatic.com/media/967498_f98873b2d63d43f789bc785802513510~mv2.jpg/v1/fill/w_1024,h_684,al_c,q_85,enc_auto/967498_f98873b2d63d43f789bc785802513510~mv2.jpg",
  "Bar Normal": "https://www.cremeguides.com/wp-content/uploads/2022/03/bar-normal-berlin-by-gebhart-de-koekkoek-3.1647337220.jpg",
  "No Bananas": "https://ceecee.cc/wp-content/uploads/2019/06/No-Bananas_Berlin_Cee_Cee_Berlin-1024x1024.jpg",
  "Velvet": "https://img.atlasobscura.com/Vw-UbZhQQ4COCMoe1wH1107e3V2oIWZ3-6f0ROM7O_I/rt:fit/h:390/q:81/sm:1/scp:1/ar:1/aHR0cHM6Ly9hdGxh/cy1kZXYuczMuYW1h/em9uYXdzLmNvbS91/cGxvYWRzL3BsYWNl/X2ltYWdlcy80ZTk3/NmQ3ZjA3NDgxOTM5/M2RfaW50ZXJpb3Ig/KDEpLmpwZw.jpg",
  "Hallmann und Klee": "https://www.cremeguides.com/wp-content/uploads/2023/03/hallmann-klee-i-interieur-i-ronja-kolls-i-2.1678354497.jpg",
  "ORA": "http://thegoldenbun.com/wp-content/uploads/2017/11/ORA-Berlin-Kreuzberg-CafÃ©-Berlin-1.jpg",
  "ClÃ¤rchens Ballroom": "https://c8.alamy.com/comp/EJ5X3B/clrchens-ballhaus-ballroom-interior-famous-historic-dancehall-opened-EJ5X3B.jpg",
  "Freundschaft Wine Bar": "https://dinnerunddrinks.com/wp-content/uploads/2018/10/WEINBAR-FREUNDSCHAFT-BERLIN-18-e1563728054352.jpg",
  "Bellboy Bar Berlin": "https://www.qiez.de/app/uploads/2021/12/bb-achso-kh-7400-2-scaled-e1638878937818-910x511.jpg",
  "Buck and Breck": "https://images.squarespace-cdn.com/content/v1/56238e70e4b079b0ec755562/1455585950184-K5K9AU15FNO0TDNTSEJX/oldcrow-bar.jpg",
  "theNOname â€“ Restaurant": "https://loff.it/wp-content/uploads/2019/07/loffit-thenoname-el-restaurante-vanguardista-y-rompedor-que-tienes-que-probar-en-berlin-07.jpg",
  "Victoria Bar": "https://res.cloudinary.com/the-infatuation/image/upload/c_fill,w_3840,ar_4:3,g_center,f_auto/images/Viktoria_Bar_Exterior5_RasaUrnieziute_Berlin_ihswpd",
  "Boxhagener Platz": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/12/73/3e/f8/img-20180325-125555-largejpg.jpg?w=1200&h=1200&s=1",
  "RAW-GelÃ¤nde": "https://peterstravel.de/wp-content/uploads/2016/06/RAW-GelÃ¤nde-Berlin-Eingang-Totale.jpg",
  "Hackescher Markt": "https://www.berlin.de/binaries/asset/image_assets/6279725/ratio_4_3/1682518673/800x600/"
};

// â”€â”€ PHOTO URL (source.unsplash.com, free, no key needed) â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getPhotoUrl(place) {
  if (PHOTO_URLS[place.name]) return PHOTO_URLS[place.name];
  const catKw = {
    'Food':                'food,restaurant',
    'Bars':                'bar,beer,pub',
    'Museums':             'museum,exhibition',
    'Green Areas & Lakes': 'park,lake,nature',
    'Clubs':               'nightclub,music',
    'Cafes/Brunch':        'coffee,cafe,brunch',
    'Feeling Fancy':       'cocktail,fine+dining',
    'Squares & Locations': 'city,plaza,street',
  };
  const name = place.name.toLowerCase().replace(/[^a-z0-9\s]/g, '').trim().split(/\s+/).slice(0, 2).join('+');
  const cat = catKw[place.category] || 'berlin';
  return `https://source.unsplash.com/800x500/?berlin,${cat},${name}`;
}

// â”€â”€ DATA (source: Google My Maps) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PLACES = [
  // â”€â”€ FOOD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { name:"Markthalle Neun", lat:52.5020234, lon:13.4319352, category:"Food", desc:"Food market with everything you can dream of! If you don't know where to go, head here!" },
  { name:"Kebap with Attitude", lat:52.5272108, lon:13.3990791, category:"Food", desc:"A modern take on the Berlin Kebab, emphasising quality and locality. Keep an eye out for the club-themed toilets." },
  { name:"KnÃ¶delwirtschaft NORD", lat:52.5474016, lon:13.4143086, category:"Food", desc:"German dumplings. Simple, hearty, and delicious." },
  { name:"Zur letzten Instanz", lat:52.5173623, lon:13.4137991, category:"Food", desc:"You just can't get more 'German' than this. Definitely worth a visit for your German food hit." },
  { name:"Feel good food by Omar", lat:52.4814108, lon:13.4309226, category:"Food", desc:"The best schawarma and falafel in the city. Everything is home-made, and Omar is a legend." },
  { name:"Scheers Schnitzel", lat:52.5028152, lon:13.4473839, category:"Food", desc:"A Berlin institution for schnitzel, served from a small stand on the banks of the Spree. Quick, unpretentious, and seriously satisfying." },
  { name:"Kitten Deli", lat:52.4930051, lon:13.4283684, category:"Food", desc:"Probably one of the coolest spots in Berlin. Stocking some of the best hummus I have ever had. In summer, this feels like the heart of the city with tables scattered all about the cobblestones. The sabbich is definitely one of their most popular dishes!" },
  { name:"Curry 61", lat:52.523725, lon:13.4007139, category:"Food", desc:"One of my favourite currywurst places!" },
  { name:"Klinke", lat:52.5013981, lon:13.4163071, category:"Food", desc:"Klinke takes classic German dishes and elevates them so you're not just eating pork and potatoes. It's basically a German tapas bar." },
  { name:"Best GemÃ¼se Kebap", lat:52.4810743, lon:13.4346183, category:"Food", desc:"I'm convinced these boys have the best kebab in Berlin. Roast vegetables, 3 sauces, goats cheese, fresh salad with dressing, locally sourced chicken â€” all for 4,50â‚¬!" },
  { name:"Blechbilderbar", lat:52.5099985, lon:13.4565153, category:"Food", desc:"The oldest bar on this street! Famous for its Flammkuchen, a traditional German/French dish. The lady who runs it seems 'Berliner Schnauze' to the naked eye, but she's incredibly kind and funny." },
  { name:"W Pizza", lat:52.4868346, lon:13.4395688, category:"Food", desc:"My favourite pizza in Berlin. Keep it simple: it's their tomato sauce that makes them so special." },
  { name:"Altes Europa", lat:52.5267028, lon:13.4010694, category:"Food", desc:"If you're looking for German food, this is definitely on the better end of where to find it in Berlin!" },
  { name:"Ketels WurstspezialitÃ¤ten", lat:52.4952016, lon:13.4204331, category:"Food", desc:"This is my favourite spot for a Currywurst." },
  { name:"Azzam Restaurant", lat:52.4849592, lon:13.4328283, category:"Food", desc:"Huge portions of Lebanese food. One of the famous names in Berlin for people in the know." },
  { name:"Burgermeister Schlesisches Tor", lat:52.5010953, lon:13.4424637, category:"Food", desc:"The most famous burger joint in Berlin â€” in an old toilet!" },
  { name:"CRAZY BASTARD KITCHEN", lat:52.4835709, lon:13.4407992, category:"Food", desc:"A hot sauce company! They change their menu weekly, fitting their food to their hot sauces!" },
  { name:"Gazzo", lat:52.4911554, lon:13.4258232, category:"Food", desc:"An insanely popular pizza spot." },
  { name:"Sahara Imbiss", lat:52.48849, lon:13.42863, category:"Food", desc:"Their peanut sauce wraps are incredibly cheap and incredibly tasty. There are Saharas all over the place, and no wonder." },
  { name:"Teras", lat:52.5117229, lon:13.3835554, category:"Food", desc:"Angela Merkel's favourite Kebab Shop." },
  { name:"Mittendrin Restaurant & CafÃ©", lat:52.5256803, lon:13.4009374, category:"Food", desc:"German lunch/dinner spot." },
  { name:"SammyS Berliner Donuts", lat:52.5262949, lon:13.3992381, category:"Food", desc:"A great place to get your classic 'Berliners'." },
  { name:"1990 Vegan Living", lat:52.5104235, lon:13.4586497, category:"Food", desc:"One of the most popular spots in Berlin. I'm not vegan, but I keep coming back! A dream for fresh, tasty Vietnamese food." },
  { name:"Saveur de BÃ¡nh MÃ¬", lat:52.523583, lon:13.4000107, category:"Food", desc:"Simple, cheap, and delicious Vietnamese sandwiches with a generous size." },
  { name:"RÃ¼yam GemÃ¼se Kebab (Prenzlauer Berg)", lat:52.5405338, lon:13.4125814, category:"Food", desc:"Same legendary vegetable kebab formula as the NeukÃ¶lln original â€” roasted veg, multiple sauces, goats cheese, all for just a few euros. Worth the trip to either branch." },
  { name:"RÃ¼yam GemÃ¼se Kebab (SchÃ¶neberg)", lat:52.484503, lon:13.3523488, category:"Food", desc:"Same legendary vegetable kebab formula as the NeukÃ¶lln original â€” roasted veg, multiple sauces, goats cheese, all for just a few euros. Worth the trip to either branch." },

  // â”€â”€ BARS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { name:"TiER", lat:52.4847871, lon:13.4376714, category:"Bars", desc:"Fancy cocktails! Get here earlier rather than later if you want a table." },
  { name:"Blauer Affe", lat:52.4791633, lon:13.423784, category:"Bars", desc:"One of NeukÃ¶lln's most beloved local bars. Unpretentious, cheap, and full of regulars. A great place to settle in for the evening." },
  { name:"Ã„", lat:52.4850275, lon:13.4371403, category:"Bars", desc:"This, for me, is the absolutely typical Berlin bar. Dark, smoky, and cheap beer â€” incredibly popular with the KreuzkÃ¶llners." },
  { name:"Hops & Barley", lat:52.5089972, lon:13.4606998, category:"Bars", desc:"If you want a look into the craft beer scene in Berlin, this is the place to go!" },
  { name:"Dschungel", lat:52.4892459, lon:13.4280289, category:"Bars", desc:"Incredible inside 'jungle' decor, but it's a smoking bar, so keep it in mind!" },
  { name:"EschenbrÃ¤u", lat:52.543739, lon:13.359138, category:"Bars", desc:"A Berliner brewery with great quality and incredibly affordable prices! Head down the steps underground. They also serve Flammkuchen in the true German style!" },
  { name:"Prater Beer Garden", lat:52.5397629, lon:13.4105365, category:"Bars", desc:"The oldest beer garden in the city, and the default meeting place for us tour guides! Definitely a great stop on a summer's day." },
  { name:"My Bar ICI", lat:52.5272417, lon:13.3974889, category:"Bars", desc:"The opposite of a Berlin bar â€” it feels like walking into Paris. Easy wines, smooth jazz, and the most Parisian looking owner you will ever meet in Berlin." },
  { name:"Lamm", lat:52.5533752, lon:13.4152355, category:"Bars", desc:"One of my favourite cocktail spots in the north. In winter, they're particularly popular for their elevated GlÃ¼hwein." },
  { name:"Schneeeule â€“ Berliner Bierkultur", lat:52.5553087, lon:13.3441786, category:"Bars", desc:"Ulrike is the world expert in Berliner Weisse, a traditional sour beer that Napoleon called the 'champagne of the north'. Beer fans from all over the world come here to try the best of the best." },
  { name:"CafÃ© Luzia", lat:52.5016759, lon:13.4182843, category:"Bars", desc:"You want the classic Kreuzberg bar? This is the place to go." },
  { name:"Ritchie CafÃ© & Bar", lat:52.5013347, lon:13.418534, category:"Bars", desc:"If Cafe Luzia is too busy, this is right opposite it and pretty much exactly the same bar." },
  { name:"CafÃ© Cinema", lat:52.524261, lon:13.4026214, category:"Bars", desc:"A relaxed bar in the heart of Mitte with a retro cinema vibe. Good cocktails, good company, and a reliably fun night." },
  { name:"MUTED HORN", lat:52.4806732, lon:13.4262815, category:"Bars", desc:"A passionate craft beer bar in KreuzkÃ¶lln stocking a rotating selection of local and international brews. A must for beer enthusiasts." },
  { name:"Fitcher's Vogel", lat:52.510388, lon:13.451204, category:"Bars", desc:"A wonderfully dark and eclectic bar in Friedrichshain, named after a Brothers Grimm fairy tale. A great pre-club stop or a destination in itself." },
  { name:"James June Biergarten", lat:52.5178184, lon:13.4414425, category:"Bars", desc:"A riverside biergarten on the banks of the Spree â€” one of the more relaxed spots to enjoy a sunny Berlin afternoon with a cold beer." },
  { name:"Klunkerkranich", lat:52.482195, lon:13.4318524, category:"Bars", desc:"Rooftop bar on top of the NeukÃ¶lln Arcaden shopping centre." },
  { name:"BRLO Brwhouse", lat:52.5001966, lon:13.3737, category:"Bars", desc:"Craft brewery and restaurant in a reclaimed industrial space at Gleisdreieck Park. Excellent beers, solid food, and a great outdoor terrace in summer." },

  // â”€â”€ MUSEUMS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { name:"Stasi Museum", lat:52.5145001, lon:13.4875157, category:"Museums", desc:"Based in the original Stasi secret police HQ. Documents all the ways East Germans were spied on by their government. The building was occupied by protestors after re-unification to protect the documents from being destroyed. The place even has a floor left exactly as it was in the 80s." },
  { name:"TopografÃ­a del Terror", lat:52.5066836, lon:13.3837023, category:"Museums", desc:"Definitely a top recommendation in Berlin. On the old site of the SS and Gestapo, this 'place of information' talks about the system of terror of the Third Reich. Free entry." },
  { name:"Kulturbrauerei â€“ ExposiciÃ³n RDA", lat:52.5382032, lon:13.4127133, category:"Museums", desc:"While most people go to the DDR Museum, the Kulturbrauerei is a more nuanced and interesting place to look at life in the GDR, based in the old Schultheiss brewery." },
  { name:"Memorial y Museo Sachsenhausen", lat:52.767081, lon:13.2624754, category:"Museums", desc:"The concentration camp just outside of Berlin in Oranienburg. A little far out, but you can organise a tour trip there. Definitely a whole day event." },
  { name:"Memorial del Muro de BerlÃ­n", lat:52.5350521, lon:13.3901898, category:"Museums", desc:"The most significant preserved section of the Berlin Wall, with an open-air exhibition along Bernauer StraÃŸe. Free entry." },
  { name:"Palacio Ephraim", lat:52.515897, lon:13.407189, category:"Museums", desc:"The 'Berlin Zeit' exhibition is the only open exhibition that does a bit of all of German history." },
  { name:"PrisiÃ³n de la Stasi (HohenschÃ¶nhausen)", lat:52.5418366, lon:13.5002334, category:"Museums", desc:"Different to the Stasi museum, but steeped in just as much history. Former secret prison where dissidents were interrogated. Guided tours only." },
  { name:"Deutschlandmuseum", lat:52.5087602, lon:13.3783615, category:"Museums", desc:"An interactive history of Germany. Not the most extensive, but definitely fun if you're looking for something more accessible." },
  { name:"Berlin Story Bunker", lat:52.5029008, lon:13.3803901, category:"Museums", desc:"If you want a Second World War museum, this is your best bet. Comprehensive history of the war and the Nazis, and a re-constructed Hitler's bunker inside an actual real-world bunker." },
  { name:"Ethnologisches Museum", lat:52.51724, lon:13.4016456, category:"Museums", desc:"A really interesting museum on German colonial history. If you're interested in how Europe should look at its colonial past, the museum is a mostly good example." },
  { name:"MÃ¤rkisches Museum", lat:52.5136027, lon:13.4150118, category:"Museums", desc:"While the German Historical Museum is closed, this is probably one of your better bets for learning more about German history. Kaisers, the Wall, the Nazis â€” this place covers it all." },
  { name:"Museo del Espionaje", lat:52.5087676, lon:13.3792366, category:"Museums", desc:"A fun place to learn about the 'city of spies' of Cold War Berlin. Very interactive, so can be a good day out for families too." },
  { name:"Urban Nation Street Art Museum", lat:52.498642, lon:13.356607, category:"Museums", desc:"It's a street art museum! It's pretty cool!" },
  { name:"Mundo SubterrÃ¡neo de BerlÃ­n", lat:52.5477911, lon:13.3889929, category:"Museums", desc:"Very cool tours of the underground sites of the city â€” bunkers, tunnels, and cold war infrastructure." },
  { name:"Museo de Videojuegos", lat:52.5176466, lon:13.4420058, category:"Museums", desc:"Not very Berlin, but definitely fun if you want to play some old video games." },

  // â”€â”€ GREEN AREAS & LAKES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { name:"Tempelhofer Feld", lat:52.475391, lon:13.401893, category:"Green Areas & Lakes", desc:"This is your sunny-weather must. Be a true Berliner and head to the now re-purposed Nazi airfield with a few beers in the sun. Watch the skaters, fly a kite, or just sunbathe. Get what you need before you go â€” it is quite literally an airfield with no shops inside." },
  { name:"Teufelsberg", lat:52.4972222, lon:13.2411111, category:"Green Areas & Lakes", desc:"Climbing this man-made mountain from WW2 rubble to reach an old abandoned US spy station is probably one of the most classically 'Berlin' experiences you can have. The caretakers charge around 10â‚¬ to let you in." },
  { name:"Maybachufer", lat:52.4927247, lon:13.4303466, category:"Green Areas & Lakes", desc:"This is where I go on a sunny day, just as does the whole of KreuzkÃ¶lln. The busy canal feels like the heart of the city when the weather's good." },
  { name:"Schlachtensee", lat:52.4430741, lon:13.2171377, category:"Green Areas & Lakes", desc:"A beautiful lake in the southwest of the city. Perfect for swimming in summer." },
  { name:"Krumme Lanke", lat:52.452201, lon:13.232695, category:"Green Areas & Lakes", desc:"Another great swimming lake in the southwest of Berlin." },
  { name:"PlÃ¶tzensee", lat:52.5437973, lon:13.3304851, category:"Green Areas & Lakes", desc:"One of the more central lakes in the city. It has a dark history, but now most people go to enjoy the sun. If you're feeling adventurous, you can try the FKK nudist side of the beach." },
  { name:"Wannsee", lat:52.415113, lon:13.1468678, category:"Green Areas & Lakes", desc:"Probably the most famous lake in Berlin. The Wannsee Conference (1942) was held here â€” where the Nazis planned the Final Solution." },
  { name:"Mauerpark", lat:52.5424, lon:13.403352, category:"Green Areas & Lakes", desc:"See the Berlin Wall, join the outdoor karaoke, or go to the Sunday market. Whatever you do, Mauerpark is a staple of living in Berlin." },
  { name:"Memorial SoviÃ©tico de Treptow", lat:52.4861394, lon:13.4719577, category:"Green Areas & Lakes", desc:"Probably one of the most absurd spaces in Berlin. You can't get more Soviet than this â€” a colossal monument to the Red Army soldiers who fell in the Battle of Berlin." },
  { name:"YAAM", lat:52.5092601, lon:13.4305412, category:"Green Areas & Lakes", desc:"Young African Art Market â€” a cultural centre on the Spree with a beach, bar, and live music." },
  { name:"Holzmarkt â€“ Strandbar", lat:52.5114768, lon:13.4263493, category:"Green Areas & Lakes", desc:"A riverside cultural village on the Spree with bars, restaurants, and a beach." },

  // â”€â”€ CLUBS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { name:"Tresor", lat:52.5109975, lon:13.4195219, category:"Clubs", desc:"If you want your traditional 'Berlin' club, this is the place to go. The music is always fantastic, the space is amazing, and it really is the Berlin club." },
  { name:"Sisyphos", lat:52.4929592, lon:13.4912445, category:"Clubs", desc:"A fantastic club loved by all. Part outside, part inside, its rooms cater to nearly everyone. Some say it's an inverted Berghain. Remember the 'camp' theme for the Met Gala? This is Sisy â€” sequins, colours, fantastic." },
  { name:"SÃ¼ss War Gestern", lat:52.5086104, lon:13.4609797, category:"Clubs", desc:"Half bar, half club â€” a great spot for a night out in Friedrichshain." },
  { name:"Salon â€“ Zur wilden Renate", lat:52.4973775, lon:13.4653682, category:"Clubs", desc:"One of Berlin's most beloved mid-size clubs, spread across several rooms and a courtyard in a converted house in Friedrichshain. Great atmosphere and music." },
  { name:"Kater Blau", lat:52.5114949, lon:13.4263867, category:"Clubs", desc:"A club right on the Spree with a relaxed outdoor space and an indoor dance floor. A good entry point into Berlin's club scene." },
  { name:"://about blank", lat:52.5023662, lon:13.4662862, category:"Clubs", desc:"A serious techno and electronic music club in Friedrichshain with a large outdoor area. One of the cornerstones of Berlin's scene, known for its inclusive vibe." },
  { name:"MS Hoppetosse", lat:52.4975353, lon:13.4546997, category:"Clubs", desc:"A club built on a repurposed boat moored on the Spree near the East Side Gallery. Great outdoor deck and a focus on techno and house." },
  { name:"RSO.BERLIN", lat:52.45989, lon:13.50548, category:"Clubs", desc:"A large industrial club in SchÃ¶neweide, one of Berlin's newer additions to the techno scene. Known for marathon sets and a loyal crowd." },

  // â”€â”€ CAFES/BRUNCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { name:"19grams Alex", lat:52.5227717, lon:13.4075961, category:"Cafes/Brunch", desc:"Decent brunch/coffee in an otherwise bleak area." },
  { name:"CafÃ© Engels", lat:52.4767177, lon:13.4200274, category:"Cafes/Brunch", desc:"A classic neighbourhood cafÃ© in the heart of NeukÃ¶lln. Nothing revolutionary, but solid coffee and a great spot to read, work, or catch up with a friend." },
  { name:"The Klub Kitchen", lat:52.5249043, lon:13.4090042, category:"Cafes/Brunch", desc:"An easy spot for lunch in Mitte." },
  { name:"Wilke", lat:52.4807436, lon:13.4314333, category:"Cafes/Brunch", desc:"Wilke has some of the best brunch in the city until 3pm Wedâ€“Sun. The dishes are seasonal and locally sourced, and the staff are the friendliest in Berlin. The coffee is fantastic, and Carolin, the owner, bakes all of the cakes herself each night." },
  { name:"annelies", lat:52.4985667, lon:13.4349439, category:"Cafes/Brunch", desc:"One of my favourite brunch spots. The pancakes are something else, but get there early, because Annelies is definitely a hotspot." },
  { name:"Shakespeare & Sons â€“ Fine Bagels", lat:52.5126813, lon:13.4531308, category:"Cafes/Brunch", desc:"A charming combination of independent bookshop and bagel bakery in Friedrichshain. Serious bagels, good coffee, and great books." },
  { name:"Bricks & Mortar", lat:52.515184, lon:13.4676004, category:"Cafes/Brunch", desc:"A speciality coffee shop in Friedrichshain with a clean, minimal aesthetic and a serious approach to brewing. One of the better cups in the east." },
  { name:"Sorrel", lat:52.490121, lon:13.4337898, category:"Cafes/Brunch", desc:"A neighbourhood restaurant in NeukÃ¶lln with a short, seasonal menu and a welcoming atmosphere. One of those places that just feels right." },
  { name:"The Barn CafÃ©", lat:52.5274383, lon:13.39818, category:"Cafes/Brunch", desc:"Won best coffee in Europe a few years ago, but take the whole experience with a pinch of salt. Not the warmest place." },
  { name:"Two Trick Pony", lat:52.488942, lon:13.4048412, category:"Cafes/Brunch", desc:"A laid-back cafÃ© and brunch spot in SchÃ¶neberg with a relaxed vibe and generous portions. Popular with the local crowd on weekends." },

  // â”€â”€ FEELING FANCY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { name:"Bar Normal", lat:52.5386515, lon:13.4100706, category:"Feeling Fancy", desc:"Ignore the reviews. The new chef is knocking it out of the park, and their wine selection is incredible. I take every excuse to come here." },
  { name:"No Bananas", lat:52.4929983, lon:13.4144221, category:"Feeling Fancy", desc:"Nothing outrageously 'fancy', but one of the best food spots in the city if you're willing to spend just a little more than you would on a kebab." },
  { name:"Velvet", lat:52.4789825, lon:13.4384567, category:"Feeling Fancy", desc:"Won best cocktail bar in Germany a few years ago, and I can see why!" },
  { name:"Hallmann und Klee", lat:52.4738085, lon:13.449695, category:"Feeling Fancy", desc:"An upscale neighbourhood restaurant in NeukÃ¶lln with a refined but unpretentious take on seasonal European cuisine. A great choice for a special dinner." },
  { name:"ORA", lat:52.5013586, lon:13.4159237, category:"Feeling Fancy", desc:"Restaurant and cocktail bar in an old pharmacy." },
  { name:"ClÃ¤rchens Ballroom", lat:52.5267016, lon:13.3968996, category:"Feeling Fancy", desc:"Is it a bar? Is it a club? Is it a restaurant? I don't really know, but it used to be the central dancehall of Weimar Berlin." },
  { name:"Freundschaft Wine Bar", lat:52.5182501, lon:13.390308, category:"Feeling Fancy", desc:"A wine bar that's so fancy, it feels like you're in Munich. My friends and I definitely don't fit in here, but that doesn't stop us from getting toasted on some of the best wines in the world." },
  { name:"Bellboy Bar Berlin", lat:52.5121123, lon:13.3920211, category:"Feeling Fancy", desc:"Mitte isn't the pulsing heart of Berlin's nightlife, but this is one of my preferred cocktail bars here." },
  { name:"Buck and Breck", lat:52.5321302, lon:13.3989457, category:"Feeling Fancy", desc:"83rd best cocktail bar in the world a few years back." },
  { name:"theNOname â€“ Restaurant", lat:52.5249533, lon:13.3936914, category:"Feeling Fancy", desc:"I've been recommending the NoName for years, and finally was vindicated when it got a Michelin star! A gorgeous restaurant right next to the New Synagogue." },
  { name:"Victoria Bar", lat:52.5013916, lon:13.3638416, category:"Feeling Fancy", desc:"A bit more of a classic cocktail bar on the higher end. Not the best in the city, but definitely one of the better stops in the area." },

  // â”€â”€ SQUARES & LOCATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { name:"Boxhagener Platz", lat:52.5109507, lon:13.4597037, category:"Squares & Locations", desc:"A central square in the city with a market too. If you're struggling for where to go in the evening, this is the easiest decision." },
  { name:"RAW-GelÃ¤nde", lat:52.5077339, lon:13.4516618, category:"Squares & Locations", desc:"Definitely worth having a mooch through â€” bars, clubs, skate park, and street art in an old railway maintenance yard." },
  { name:"Hackescher Markt", lat:52.5237159, lon:13.4022679, category:"Squares & Locations", desc:"A little touristy for my taste, but there are still some gems dotted about." },
];

// â”€â”€ MAP SETUP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const map = L.map('map', { center:[52.499,13.400], zoom:12, zoomControl:true });
L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',{
  subdomains:'abcd', maxZoom:19
}).addTo(map);

// â”€â”€ ICONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function mkIcon(color, selected=false) {
  const s = selected ? 32 : 26;
  const h = Math.round(s * 1.32);
  const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="${s}" height="${h}" viewBox="0 0 26 34">
    <defs>
      <filter id="ds" x="-30%" y="-20%" width="160%" height="160%">
        <feDropShadow dx="0" dy="2" stdDeviation="${selected?3:2}" flood-color="rgba(0,0,0,.7)"/>
      </filter>
    </defs>
    <path d="M13 0C5.82 0 0 5.82 0 13c0 8.8 13 21 13 21S26 21.8 26 13C26 5.82 20.18 0 13 0z"
          fill="${color}" filter="url(#ds)" opacity="${selected?.97:.88}"/>
    <circle cx="13" cy="13" r="5.5" fill="white" opacity=".95"/>
  </svg>`;
  return L.divIcon({
    html:`<div class="m-wrap${selected?' sel':''}">${svg}</div>`,
    iconSize:[s,h], iconAnchor:[s/2,h], popupAnchor:[0,-h], className:''
  });
}

// â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let activeFilters = new Set(Object.keys(CAT));
let markers = [];
let selectedMarker = null;
let photoIdx = 0;
let curPhotos = [];

// â”€â”€ PHOTO CAROUSEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildPhotos(photos, emoji) {
  const el = document.getElementById('panel-photos');
  el.innerHTML = '';
  el.className = '';
  curPhotos = photos;
  photoIdx = 0;

  if (!photos || photos.length === 0) {
    el.classList.add('empty');
    el.textContent = emoji;
    return;
  }

  photos.forEach((src, i) => {
    const img = document.createElement('img');
    img.className = 'ph-img' + (i===0?' on':'');
    img.src = src;
    img.alt = '';
    img.loading = 'eager';
    img.onerror = () => { if (!el.querySelector('.ph-img.on') || el.querySelector('.ph-img.on') === img) { el.innerHTML=''; el.classList.add('empty'); el.textContent = emoji; } };
    el.appendChild(img);
  });

  if (photos.length > 1) {
    const prev = document.createElement('button');
    prev.className = 'ph-nav-btn ph-prev';
    prev.innerHTML = '&#8249;';
    prev.onclick = () => movePhoto(-1);
    const next = document.createElement('button');
    next.className = 'ph-nav-btn ph-next';
    next.innerHTML = '&#8250;';
    next.onclick = () => movePhoto(1);
    const dots = document.createElement('div');
    dots.className = 'ph-dots';
    photos.forEach((_,i) => {
      const d = document.createElement('div');
      d.className = 'ph-dot' + (i===0?' on':'');
      d.onclick = () => goPhoto(i);
      dots.appendChild(d);
    });
    el.appendChild(prev);
    el.appendChild(next);
    el.appendChild(dots);
  }
}

function movePhoto(dir) {
  goPhoto((photoIdx + dir + curPhotos.length) % curPhotos.length);
}
function goPhoto(i) {
  const el = document.getElementById('panel-photos');
  el.querySelectorAll('.ph-img').forEach((img,j) => img.classList.toggle('on', j===i));
  el.querySelectorAll('.ph-dot').forEach((d,j) => d.classList.toggle('on', j===i));
  photoIdx = i;
}

// â”€â”€ PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openPanel(place) {
  const cat = CAT[place.category];

  buildPhotos([getPhotoUrl(place)], cat.emoji);

  const badge = document.getElementById('p-badge');
  badge.style.background = cat.bg;
  badge.style.color = cat.color;
  badge.textContent = cat.emoji + ' ' + (lang === 'es' ? cat.label_es : cat.label_en);

  document.getElementById('p-name').textContent = place.name;
  const addrEl = document.getElementById('p-addr');
  addrEl.textContent = '';
  addrEl.style.display = 'none';
  document.getElementById('p-desc').textContent = lang === 'es' ? (DESC_ES[place.name] || place.desc) : place.desc;
  document.getElementById('p-gmaps').href = `https://maps.google.com/?q=${place.lat},${place.lon}`;

  const info = document.getElementById('p-info');
  info.innerHTML = '';
  const hrs = HOURS[place.name];
  if (hrs) {
    info.innerHTML = `<div class="p-row"><span class="p-icon">ğŸ•</span><span class="p-val">${hrs}</span></div>`;
  }

  document.getElementById('panel').classList.add('open');
  // Sync list selection when marker is clicked directly
  if (currentCategory) {
    document.querySelectorAll('.list-item').forEach(item => {
      item.classList.toggle('sel', item._place === place);
    });
  }
  setTimeout(() => map.invalidateSize(), 350);
}

function closePanel() {
  document.getElementById('panel').classList.remove('open');
  document.querySelectorAll('.list-item').forEach(i => i.classList.remove('sel'));
  if (selectedMarker) {
    const place = selectedMarker._place;
    const cat = CAT[place.category];
    selectedMarker.setIcon(mkIcon(cat.color, false));
    selectedMarker._el && selectedMarker._el.classList.remove('sel');
    selectedMarker = null;
  }
  setTimeout(() => map.invalidateSize(), 350);
}

document.getElementById('panel-close').addEventListener('click', closePanel);

// â”€â”€ LIST PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openList(categoryName) {
  const cat = CAT[categoryName];
  currentCategory = categoryName;
  const places = PLACES.filter(p => p.category === categoryName);

  const dot = document.getElementById('list-dot');
  dot.style.background = cat.color;
  const titleEl = document.getElementById('list-title');
  titleEl.textContent = lang === 'es' ? cat.label_es : cat.label_en;
  titleEl.style.color = cat.color;
  document.getElementById('list-cnt').textContent =
    lang === 'es' ? places.length + ' lugar' + (places.length !== 1 ? 'es' : '')
                  : places.length + ' place' + (places.length !== 1 ? 's' : '');

  const listBody = document.getElementById('list-body');
  listBody.innerHTML = '';
  listBody.scrollTop = 0;

  places.forEach(place => {
    const item = document.createElement('div');
    item.className = 'list-item';
    item._place = place;
    item.innerHTML = `
      <img class="li-photo" src="" alt="" loading="lazy">
      <div class="li-body">
        <div class="li-name"></div>
        <div class="li-desc"></div>
      </div>
      <svg class="li-chev" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><polyline points="9 18 15 12 9 6"/></svg>
    `;
    const img = item.querySelector('.li-photo');
    img.src = PHOTO_URLS[place.name] || '';
    img.onerror = function() { this.style.display = 'none'; };
    item.querySelector('.li-name').textContent = place.name;
    item.querySelector('.li-desc').textContent =
      lang === 'es' ? (DESC_ES[place.name] || place.desc) : place.desc;

    item.addEventListener('click', () => {
      listBody.querySelectorAll('.list-item').forEach(i => i.classList.remove('sel'));
      item.classList.add('sel');
      const m = markers.find(mk => mk._place === place);
      if (m) {
        if (selectedMarker && selectedMarker !== m) {
          const prev = selectedMarker._place;
          selectedMarker.setIcon(mkIcon(CAT[prev.category].color, false));
          selectedMarker._el && selectedMarker._el.classList.remove('sel');
        }
        m.setIcon(mkIcon(cat.color, true));
        selectedMarker = m;
        map.panTo([place.lat, place.lon], { animate: true, duration: .5 });
      }
      openPanel(place);
    });

    listBody.appendChild(item);
  });

  document.getElementById('list-panel').classList.add('open');
  setTimeout(() => map.invalidateSize(), 350);
}

function closeList() {
  currentCategory = null;
  document.getElementById('list-panel').classList.remove('open');
  setTimeout(() => map.invalidateSize(), 350);
}

// â”€â”€ RENDER MARKERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderMarkers() {
  markers.forEach(m => map.removeLayer(m));
  markers = [];
  let count = 0;

  PLACES.forEach(place => {
    if (!activeFilters.has(place.category)) return;
    const cat = CAT[place.category];
    const m = L.marker([place.lat, place.lon], { icon: mkIcon(cat.color) });
    m._place = place;
    m.addTo(map);

    m.on('click', () => {
      if (selectedMarker && selectedMarker !== m) {
        const prev = selectedMarker._place;
        selectedMarker.setIcon(mkIcon(CAT[prev.category].color, false));
      }
      m.setIcon(mkIcon(cat.color, true));
      selectedMarker = m;
      openPanel(place);
      map.panTo([place.lat, place.lon], { animate:true, duration:.5 });
    });

    markers.push(m);
    count++;
  });

  const nc = document.getElementById('n-count');
  nc.dataset.count = count;
  nc.textContent = lang === 'es' ? count + ' lugar' + (count!==1?'es':'') : count + ' place' + (count!==1?'s':'');
}

// â”€â”€ FILTER UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const filterBar = document.getElementById('filter-bar');

// Count per category
const counts = {};
PLACES.forEach(p => counts[p.category] = (counts[p.category]||0) + 1);

// All button
const allChip = document.createElement('button');
allChip.className = 'chip all active';
allChip.style.setProperty('--chip-color', '#C8A84B');
allChip.innerHTML = `<span class="chip-dot" style="background:#C8A84B"></span><span class="l-es">Todos</span><span class="l-en" style="display:none">All</span>`;
allChip.addEventListener('click', () => {
  activeFilters = new Set(Object.keys(CAT));
  filterBar.querySelectorAll('.chip[data-cat]').forEach(b => b.classList.add('active'));
  allChip.classList.add('active');
  renderMarkers();
  closeList();
  if (document.getElementById('panel').classList.contains('open')) closePanel();
});
filterBar.appendChild(allChip);

Object.entries(CAT).forEach(([name, cfg]) => {
  if (!counts[name]) return;
  const btn = document.createElement('button');
  btn.className = 'chip active';
  btn.dataset.cat = name;
  btn.style.setProperty('--chip-color', cfg.color);
  btn.innerHTML = `<span class="chip-dot" style="background:${cfg.color}"></span><span class="l-es">${cfg.label_es}</span><span class="l-en" style="display:none">${cfg.label_en}</span><span class="cnt">${counts[name]}</span>`;
  btn.addEventListener('click', () => {
    const solo = activeFilters.size === 1 && activeFilters.has(name);
    if (solo) {
      // Re-enable all
      activeFilters = new Set(Object.keys(CAT));
      filterBar.querySelectorAll('.chip[data-cat]').forEach(b => b.classList.add('active'));
      allChip.classList.add('active');
      closeList();
    } else {
      activeFilters = new Set([name]);
      filterBar.querySelectorAll('.chip[data-cat]').forEach(b => b.classList.toggle('active', b.dataset.cat === name));
      allChip.classList.remove('active');
      openList(name);
    }
    renderMarkers();
    if (document.getElementById('panel').classList.contains('open')) closePanel();
  });
  filterBar.appendChild(btn);
});

const countEl = document.createElement('span');
countEl.id = 'n-count';
filterBar.appendChild(countEl);

renderMarkers();
</script>
</body>
</html>
